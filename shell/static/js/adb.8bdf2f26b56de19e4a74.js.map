{"version":3,"sources":["webpack:///src/adb/modalDatabaseOption.vue","webpack:///./src/adb/modalDatabaseOption.vue?80b4","webpack:///./src/adb/modalDatabaseOption.vue","webpack:///src/adb/modalDatabasePicker.vue","webpack:///./src/adb/modalDatabasePicker.vue?56ed","webpack:///./src/adb/modalDatabasePicker.vue","webpack:///src/adb/tableConfig.vue","webpack:///./src/adb/tableConfig.vue?ccb9","webpack:///./src/adb/tableConfig.vue","webpack:///src/adb/modalConfig.vue","webpack:///./src/adb/modalConfig.vue?12b9","webpack:///./src/adb/modalConfig.vue","webpack:///src/adb/terminal.vue","webpack:///./src/adb/terminal.vue?e504","webpack:///./src/adb/terminal.vue","webpack:///src/adb/modalProject.vue","webpack:///./src/adb/modalProject.vue?cf5e","webpack:///./src/adb/modalProject.vue","webpack:///src/adb/adb.vue","webpack:///./src/adb/adb.vue?2d63","webpack:///./src/adb/adb.vue","webpack:///./src/adb/adb.js"],"names":["modalDatabaseOption","name","props","data","mode","tables","database","sql_var","target","source","mounted","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","x","key","wrap","_context","prev","next","localStorage","length","JSON","parse","stop","methods","onOK","_this2","alert","value","stringify_default","source_config","filter","item","title","target_config","$emit","onVisibleChange","v","d1","typeof_default","children","cols","d2","role","i","forEach","security","host","trim","toLowerCase","indexOf","sys_database","watch","visible","config","_this3","Array","isArray","push","y","find","element","adb_modalDatabaseOption","render","_vm","_h","$createElement","_c","_self","attrs","id","class-name","closable","on","on-visible-change","model","callback","$$v","expression","staticStyle","margin","type","label","_v","border","disabled","_e","display","flex-direction","justify-content","align-items","_l","_s","margin-left","index","staticClass","size","clearable","$set","slot","click","$event","staticRenderFns","src_adb_modalDatabaseOption","__webpack_require__","normalizeComponent","ssrContext","modalDatabasePicker","components","onChange","event","adb_modalDatabasePicker","width","text-align","on-change","src_adb_modalDatabasePicker","modalDatabasePicker_normalizeComponent","tableConfig","dirty","columns2","editIndex","rows","datas","editRow","broadcast","$on","onAdd","concat","columns","window","addEventListener","onKeydown","destroyed","$off","removeEventListener","active","document","activeElement","pk","navigator","userAgent","metaKey","ctrlKey","code","altKey","shiftKey","keyCode","char","String","fromCharCode","toUpperCase","console","log","onEdit","$isElectron","preventDefault","stopImmediatePropagation","stopPropagation","panel","setTimeout","arr","querySelectorAll","focus","onRowClick","onRowDoubleClick","row","assign_default","onRemove","splice","adb_tableConfig","height","on-row-click","on-row-dblclick","scopedSlots","_u","fn","ref","index2","margin-right","src_adb_tableConfig","tableConfig_normalizeComponent","modalConfig","codemirror","vue_codemirror","TableConfig","_cmOptions","cmOptions","lineNumbers","theme","lint","styleActiveLine","matchBrackets","defineProperty_default","projects","dataDatabase","colTables","configTables","SYS","BASE","TRANSACTION","OPTIONS","tabCurr","onTabClick","onTabsAdd","onCmReady","cm","editor","onCmFocus","onCmCodeChange","newCode","json","getValue","e","onResize","h1","querySelector","clientHeight","h2","style","h","readConfig","recursion","obj","obj2","setValue","onUpdate","score","_arr","isRequire","isValue","col","_this4","_loop","_key","table1","table2","tbl","sort","b","_loop2","_key2","adb_modalConfig","fullscreen","margin-top","on-click","on-update","options","ready","input","src_adb_modalConfig","modalConfig_normalizeComponent","waiting","cursor","exeMode","terminal","history","processing","Date","getTime","addHistory","getElementById","innerHTML","execute","pid","process","kill","cwd","_ref","promise_default","_callee2","success","error","_context2","platform","child_process","exec","err","_x","_x2","apply","arguments","commands","_callee3","_context3","abrupt","split","exeCmd","t0","_callee6","self","_tables","_i","_ret","_tables2","_i2","_tbl","sql","connect","query","finish","_context7","addPrompt","toString","_ref3","_this6","_callee5","_context6","fields","_x5","_x6","_ref2","_this5","_callee4","db","_context5","mysql","createConnection","_x3","_x4","site","msg","sent","t1","disable","t2","keys","t3","done","where","tableSource","j","_sql","set","key2","val","_context4","el","replace","RegExp","delegateYield","t4","t5","end","t6","t7","t8","command","_ref4","_this7","_callee9","result","cmd","bat","_context10","spawn","stdout","stderr","_ref5","_callee7","_context8","undefined","_x9","_ref6","_callee8","_context9","_x10","_x7","_x8","_this8","$refs","scrollTop","scrollHeight","arg","_this9","child","node","createElement","appendChild","_node","_node2","adb_terminal","position","domProps","src_adb_terminal","terminal_normalizeComponent","modalProject","adb_modalProject","list","src_adb_modalProject","modalProject_normalizeComponent","adb_cols","adb","ModalConfig","Terminal","ModalDatabaseOption","split1","visibleConfig","visibleOption","tabs","tabIndex","project","package","folder","apk","icon","expand","port","w","body","clientWidth","executeFinish","onMoveEnd","onClickIcon","onCloseConfig","onCloseDatabaseOption","onSelectChange","key1","projectPicker","setProject","databasePicker","item1","item2","selected","nodeKey","env","USER","$Modal","info","rowClick","remove","confirm","onOk","onTabRemove","renderTreeItem","root","class","unshift","marginRight","marginBottom","adb_adb","background","flex","color","padding","nativeOn","on-move-end","z-index","overflow-x","on-select-change","on-tab-remove","tab","refInFor","on-close","src_adb_adb","adb_normalizeComponent","Vue","use","iView","locale","productionTip","prototype","ADB","template","onresize"],"mappings":"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","file":"static/js/adb.8bdf2f26b56de19e4a74.js","sourcesContent":["<template>\n  <modal id='modalDatatbaseOption' v-model=\"visible\" title=\"資料庫複製\" class-name=\"vertical-center-modal\" \n    @on-visible-change=\"onVisibleChange\" :closable=\"false\"\n  >\n    <div>\n      <div style=\"margin: 10px 0px;\">\n        <RadioGroup v-model=\"mode\" type=\"button\">\n          <Radio label=\"複製\"></Radio>\n          <Radio label=\"刪除\"></Radio>\n        </RadioGroup>\n      </div>\n      <div style=\"margin: 10px 0px;\" v-if=\"mode == '複製'\">\n        <CheckboxGroup v-model=\"tables\">\n          <Checkbox label=\"系統資料表\" border disabled></Checkbox>\n          <Checkbox label=\"基本資料表\" border disabled></Checkbox>\n          <Checkbox label=\"交易資料表\" border></Checkbox>\n          <Checkbox label=\"自訂資料表\" border></Checkbox>\n        </CheckboxGroup>\n      </div>\n      <div style=\"margin: 10px 0px; display: flex; flex-direction: row; justify-content: start; align-items: center;\">\n        <div v-if=\"mode == '複製'\">Source：</div>\n        <Select v-model=\"source\" v-if=\"mode == '複製'\">\n          <Option v-for=\"(item) in database\" :key=\"item.title\" :value=\"item.title\">\n            {{item.title}}\n          </Option>\n        </Select> \n        <div style=\"margin-left: 5px;\">Target：</div>\n        <Select v-model=\"target\">\n          <Option v-for=\"(item) in database\" :key=\"item.title\" :value=\"item.title\" v-if=\"item.security == false && item.title != source\">\n            {{item.title}}\n          </Option>\n        </Select>\n      </div>\n      <div v-for=\"(item, index) in sql_var\" :key=\"item.title\">\n        <div class=\"row\" v-if=\"mode == '複製' || (mode == '刪除' && index == 0)\">\n          {{item.title + \"：\"}}\n          <Input v-model=\"item.value\" size=\"large\" clearable/>\n        </div>        \n      </div>\n\n    </div>\n    <div slot=\"footer\" >\n      <i-button type=\"error\" @click=\"$emit('on-close')\">取消</i-button>\n      <i-button type=\"primary\" @click=\"onOK\">確定</i-button>\n    </div>\n  </modal>\n</template>\n<script>\n\nexport default {\n  name: 'ModalDatabaseOption',\n  props: [\"visible\", \"config\"],\n  data () {\n    return {\n      mode: \"複製\",\n      tables: [\"系統資料表\", \"基本資料表\"],\n      database: [],\n      sql_var: [],\n      target: \"\", \n      source: \"\"\n    }\n  },\n  async mounted() {\n    let x = localStorage[\"adb-database-option\"];\n    if(typeof x == \"string\" && x.length > 0) {\n      x = JSON.parse(x);\n      for(let key in x) {\n        this[key] = x[key];\n      }\n    }\n  },\n  methods: {\n    onOK(){\n      let data = {mode: this.mode, tables: this.tables, \n        sql_var: this.sql_var, target: this.target, source: this.source};\n      if(this.mode == \"複製\" && this.source.length == 0){\n        alert(\"請選擇 Source\")\n      } else if(this.target.length == 0){\n        alert(\"請選擇 Target\")\n      } else if(this.sql_var[0].value.length == 0){\n        alert(\"請輸入 SITE\")\n      } else {\n        localStorage[\"adb-database-option\"] = JSON.stringify(data)\n        data.source_config = this.database.filter((item) => {\n          return item.title == this.source;\n        })[0]\n        data.target_config = this.database.filter((item) => {\n          return item.title == this.target;\n        })[0]\n        this.$emit(\"on-close\", data);\n      }\n    },\n    onVisibleChange(v) {\n      if (v === false) {\n        this.$emit(\"on-close\");\n      } else {\n        let x = localStorage[\"adb-config\"];\n        if(typeof x == \"string\" && x.length > 0) {\n          let config = JSON.parse(x);\n          let d1 = config.database.filter((item)=>{\n            return typeof item.children == \"object\"\n          })\n          if(d1.length > 0) {\n            let cols = [\"host\", \"user\", \"password\", \"database\", \"sys_database\"];\n            let d2 = d1[0].children.filter((item)=>{\n              if(item.role == \"database\") {\n                for(let i = 0; i < cols.length; i++) {\n                  if(typeof item[cols[i]] == \"undefined\" || item[cols[i]].length == 0)\n                    return false;\n                }\n                return true;\n              } else {\n                return false;\n              }\n            })\n            d2.forEach(item => {\n              item.security = (item.host.trim().toLowerCase().indexOf(\"myjabezpos\") > -1 \n                && (item.database.trim().toLowerCase().indexOf(\"jp_\") == 0 \n                  || item.sys_database.trim().toLowerCase().indexOf(\"jp_\") == 0) ) \n                ? true : false;\n            }); \n            this.database = d2;\n            if(d2.length == 0) {\n             alert(\"請先設定資料庫\") \n            }\n          }\n        }\n      }\n    },\n  },\n  watch: {\n    visible(value){\n    },\n    source(value) {\n      if(value.length > 0 && this.target == value)\n        this.target = \"\";\n    },\n    config(value) {\n      if(typeof value == \"object\") {\n        let x = localStorage[\"adb-database-option\"];\n        if(typeof x == \"string\" && x.length > 0) {\n          x = JSON.parse(x).sql_var;\n        } else {\n          x = [];\n        }\n        \n        this.sql_var = [{title: \"SITE\", value: \"\"}];\n        if(Array.isArray(value.sql_var)) {\n          value.sql_var.forEach(item=>{\n            this.sql_var.push({title: item, value: \"\"})\n          })\n\n          this.sql_var.forEach(item=>{\n            let y = x.find(element => element.title == item.title)\n            if(typeof y != \"undefined\") {\n              if(y.value.trim().length > 0) {\n                item.value = y.value.trim();\n              }\n            }\n          })\n        }\n      }\n    }\n  },\n}\n</script>\n<style>\n#modalDatatbaseOption .ivu-checkbox-wrapper  {\n  /* border: 1px solid #2d8cf0; */\n  padding: 5px;\n}\n\n#modalDatatbaseOption .row  {\n  margin-top: 10px;\n  display: flex; flex-direction: row; \n  justify-content: start; \n  align-items: center;\n}\n\n</style>\n\n\n// WEBPACK FOOTER //\n// src/adb/modalDatabaseOption.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"id\":\"modalDatatbaseOption\",\"title\":\"資料庫複製\",\"class-name\":\"vertical-center-modal\",\"closable\":false},on:{\"on-visible-change\":_vm.onVisibleChange},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('div',[_c('div',{staticStyle:{\"margin\":\"10px 0px\"}},[_c('RadioGroup',{attrs:{\"type\":\"button\"},model:{value:(_vm.mode),callback:function ($$v) {_vm.mode=$$v},expression:\"mode\"}},[_c('Radio',{attrs:{\"label\":\"複製\"}}),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"刪除\"}})],1)],1),_vm._v(\" \"),(_vm.mode == '複製')?_c('div',{staticStyle:{\"margin\":\"10px 0px\"}},[_c('CheckboxGroup',{model:{value:(_vm.tables),callback:function ($$v) {_vm.tables=$$v},expression:\"tables\"}},[_c('Checkbox',{attrs:{\"label\":\"系統資料表\",\"border\":\"\",\"disabled\":\"\"}}),_vm._v(\" \"),_c('Checkbox',{attrs:{\"label\":\"基本資料表\",\"border\":\"\",\"disabled\":\"\"}}),_vm._v(\" \"),_c('Checkbox',{attrs:{\"label\":\"交易資料表\",\"border\":\"\"}}),_vm._v(\" \"),_c('Checkbox',{attrs:{\"label\":\"自訂資料表\",\"border\":\"\"}})],1)],1):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px 0px\",\"display\":\"flex\",\"flex-direction\":\"row\",\"justify-content\":\"start\",\"align-items\":\"center\"}},[(_vm.mode == '複製')?_c('div',[_vm._v(\"Source：\")]):_vm._e(),_vm._v(\" \"),(_vm.mode == '複製')?_c('Select',{model:{value:(_vm.source),callback:function ($$v) {_vm.source=$$v},expression:\"source\"}},_vm._l((_vm.database),function(item){return _c('Option',{key:item.title,attrs:{\"value\":item.title}},[_vm._v(\"\\n          \"+_vm._s(item.title)+\"\\n        \")])}),1):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(\"Target：\")]),_vm._v(\" \"),_c('Select',{model:{value:(_vm.target),callback:function ($$v) {_vm.target=$$v},expression:\"target\"}},_vm._l((_vm.database),function(item){return (item.security == false && item.title != _vm.source)?_c('Option',{key:item.title,attrs:{\"value\":item.title}},[_vm._v(\"\\n          \"+_vm._s(item.title)+\"\\n        \")]):_vm._e()}),1)],1),_vm._v(\" \"),_vm._l((_vm.sql_var),function(item,index){return _c('div',{key:item.title},[(_vm.mode == '複製' || (_vm.mode == '刪除' && index == 0))?_c('div',{staticClass:\"row\"},[_vm._v(\"\\n        \"+_vm._s(item.title + \"：\")+\"\\n        \"),_c('Input',{attrs:{\"size\":\"large\",\"clearable\":\"\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1):_vm._e()])})],2),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('i-button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){return _vm.$emit('on-close')}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('i-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onOK}},[_vm._v(\"確定\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ffc0ad64\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/adb/modalDatabaseOption.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ffc0ad64\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./modalDatabaseOption.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./modalDatabaseOption.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./modalDatabaseOption.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ffc0ad64\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./modalDatabaseOption.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/adb/modalDatabaseOption.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <table style=\"width: 100%;\">\n      <tr v-for=\"item in cols\" :key=\"item.key\">\n        <td style=\"text-align: right; width: 100px\">{{item.title + \"：\"}}</td>\n        <td> <Input v-model=\"database[item.key]\" id=\"host\" size=\"large\" @on-change=\"onChange\" clearable/></td>\n\n        <!-- <td style=\"text-align: right; width: 100px\">主機：</td>\n        <td> <Input v-model=\"database['host']\" id=\"host\" size=\"large\" @on-change=\"onChange\" clearable/></td> -->\n      </tr>\n      \n    </table>\n  </div>\n</template>\n<script>\n\nexport default {\n  name: 'ModalDatabasePicker',\n  props: [\"database\", \"cols\"],\n  components: {\n  },\n  data () {\n    return {\n      // height: document.body.clientHeight - 200\n    }\n  },\n  async mounted() {\n    \n  },\n  methods: {\n    onChange(event) {\n      this.$emit(\"onChange\", this.database)\n    },\n  }\n}\n\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/adb/modalDatabasePicker.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',{staticStyle:{\"width\":\"100%\"}},_vm._l((_vm.cols),function(item){return _c('tr',{key:item.key},[_c('td',{staticStyle:{\"text-align\":\"right\",\"width\":\"100px\"}},[_vm._v(_vm._s(item.title + \"：\"))]),_vm._v(\" \"),_c('td',[_c('Input',{attrs:{\"id\":\"host\",\"size\":\"large\",\"clearable\":\"\"},on:{\"on-change\":_vm.onChange},model:{value:(_vm.database[item.key]),callback:function ($$v) {_vm.$set(_vm.database, item.key, $$v)},expression:\"database[item.key]\"}})],1)])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-02e3b8aa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/adb/modalDatabasePicker.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-02e3b8aa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./modalDatabasePicker.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./modalDatabasePicker.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./modalDatabasePicker.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02e3b8aa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./modalDatabasePicker.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/adb/modalDatabasePicker.vue\n// module id = null\n// module chunks = ","<template>\n  <Table border :columns=\"columns2\" :data=\"rows\" :id=\"name + '-tbl'\" :height=\"height - 10\" style=\"margin: 0px 2px 2px 2px;\"\n    @on-row-click=\"onRowClick\" @on-row-dblclick=\"onRowDoubleClick\"\n  >\n    <template slot-scope=\"{index}\" slot=\"index\">\n      <div style=\"text-align: center\">{{index + 1}}</div>\n    </template>\n    <template v-for=\"(item, index2) in columns\" :slot=\"item.key\" slot-scope=\"{row, index}\" >\n      <div v-if=\"editIndex == index\" :key=\"index2\" style=\"text-align: center;\">\n        <Checkbox v-model=\"editRow[item.key]\" @on-change=\"onChange\"\n          v-if=\"typeof item.type == 'string' && item.type == 'checkbox'\" />\n        <Input v-model=\"editRow[item.key]\" size=\"large\" clearable v-else \n          @on-change=\"onChange\" /> \n      </div>\n      <div v-else :key=\"index2 + 1000\">\n        {{row[item.key]}}\n      </div>\n    </template>\n\n    <template slot-scope=\"{row, index}\" slot=\"action\" class=\"action\">\n      <div style=\"text-align: center\" v-if=\"editIndex == -1\">\n        <Button type=\"primary\" size=\"small\" style=\"margin-right: 2px;\" @click=\"onRowDoubleClick(row, index)\">編輯</Button>\n        <Button type=\"error\" size=\"small\" @click=\"onRemove(row, index)\">刪除</Button>\n      </div>\n      <div style=\"text-align: center\" v-else-if=\"editIndex == index\">\n        <Button type=\"primary\" size=\"small\" style=\"margin-right: 2px\" @click=\"onEdit(row, index)\">存檔</Button>\n        <Button type=\"error\" size=\"small\" @click=\"editIndex = -1; dirty = false; \">取消</Button>\n      </div>\n    </template>\n  </Table>\n      \n</template>\n<script>\n\nexport default {\n  name: 'TableConfig',\n  props: [\"columns\", \"datas\", \"height\", \"name\", \"active\"],\n  data () {\n    return {\n      dirty: false,\n      columns2: [],\n      editIndex: -1,\n      rows: this.datas,\n      editRow: null\n    }\n  },\n  async mounted() {\n    this.broadcast.$on('config-add', this.onAdd);\n\n    this.columns2.push({\n        title: ' ',\n        width: 40,\n        slot: 'index',\n    });\n    this.columns2 = this.columns2.concat(this.columns);\n    this.columns2.push({\n      title: '操作',\n      width: 100,\n      slot: 'action',\n    });\n    window.addEventListener('keydown', this.onKeydown, false);\n  },\n  destroyed() {\n    this.broadcast.$off('config-add', this.onAdd);\n    window.removeEventListener('keydown', this.onKeydown, false);\n  },\n  methods: {\n    onKeydown(event) {\n      if(this.active == false) return;\n\n      let o = document.activeElement;\n\t\t\tlet pk = navigator.userAgent.indexOf('Macintosh') > -1 ? event.metaKey : event.ctrlKey;\n\t\t\tlet ak = navigator.userAgent.indexOf('Macintosh') > -1  ? event.ctrlKey : event.altKey;\n\t\t\tlet sk = event.shiftKey, code = event.keyCode;\n\t\t\tlet char = (event.keyCode >=48 && event.keyCode <=122) ? String.fromCharCode(event.keyCode).toUpperCase() : \"\";\n      console.log(\"char: \" + char + \", pk: \" + pk + \", code: \" + code)\n      if(code == 27 && this.editIndex > -1) {\n        this.editIndex = -1; \n        this.dirty = false;\n      } else if(pk == true && char == \"S\" && this.editIndex > -1) {\n        this.onEdit(this.editRow, this.editIndex)\n      } else if(this.$isElectron== true && pk == true && char == \"N\" && this.editIndex == -1) {\n        this.onAdd(this.name)\n      } else {\n        return;\n      }\n      event.preventDefault();\n      event.stopImmediatePropagation();\n\t\t\tevent.stopPropagation();\n    },\n    onAdd(panel){\n      if(this.name == panel && this.editIndex == -1) {\n        this.rows.push({});\n        setTimeout(() => {\n          this.editRow = {};\n          this.editIndex = this.rows.length - 1;\n\n          setTimeout(() => {\n            let arr = document.querySelectorAll(\"#\" + this.name + \"-tbl input[type='text']\");\n            if(arr.length > 0)\n              arr[0].focus();\n          }, 600);\n        }, 300);\n      }\n    },\n    onRowClick(index){\n    },\n    onRowDoubleClick(row, index) {\n      if(this.dirty == true) return;\n      this.editIndex = index; \n      this.editRow = Object.assign({}, row); \n      this.dirty = false;\n    } ,\n    onEdit(row, index){\n      console.log(\"dirty: \" + this.dirty)\n      for(let key in this.editRow) {\n        if(key.indexOf(\"_\") == 0) \n          delete this.editRow[key];\n        else if(typeof this.editRow[key] == \"boolean\" && this.editRow[key] == false)\n          delete this.editRow[key];\n      }\n      this.$set(this.rows, index, this.editRow)\n      if(this.dirty == true)\n        this.$emit('on-update', this.rows)\n      this.editIndex = -1;\n      this.editRow = null;\n      this.dirty = false\n    },\n    onRemove(row, index) {\n      this.dirty = false;\n      this.rows.splice(index, 1);\n      this.$emit('on-update', this.rows)\n    },\n    onChange(){\n      this.dirty = true;\n    },\n  },\n  watch: {\n    active(value) {\n    }\n  }, \n}\n</script>\n<style>\n\n</style>\n\n\n// WEBPACK FOOTER //\n// src/adb/tableConfig.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Table',{staticStyle:{\"margin\":\"0px 2px 2px 2px\"},attrs:{\"border\":\"\",\"columns\":_vm.columns2,\"data\":_vm.rows,\"id\":_vm.name + '-tbl',\"height\":_vm.height - 10},on:{\"on-row-click\":_vm.onRowClick,\"on-row-dblclick\":_vm.onRowDoubleClick},scopedSlots:_vm._u([{key:\"index\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(index + 1))])]}},_vm._l((_vm.columns),function(item,index2){return {key:item.key,fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [(_vm.editIndex == index)?_c('div',{key:index2,staticStyle:{\"text-align\":\"center\"}},[(typeof item.type == 'string' && item.type == 'checkbox')?_c('Checkbox',{on:{\"on-change\":_vm.onChange},model:{value:(_vm.editRow[item.key]),callback:function ($$v) {_vm.$set(_vm.editRow, item.key, $$v)},expression:\"editRow[item.key]\"}}):_c('Input',{attrs:{\"size\":\"large\",\"clearable\":\"\"},on:{\"on-change\":_vm.onChange},model:{value:(_vm.editRow[item.key]),callback:function ($$v) {_vm.$set(_vm.editRow, item.key, $$v)},expression:\"editRow[item.key]\"}})],1):_c('div',{key:index2 + 1000},[_vm._v(\"\\n      \"+_vm._s(row[item.key])+\"\\n    \")])]}}}),{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [(_vm.editIndex == -1)?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('Button',{staticStyle:{\"margin-right\":\"2px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onRowDoubleClick(row, index)}}},[_vm._v(\"編輯\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onRemove(row, index)}}},[_vm._v(\"刪除\")])],1):(_vm.editIndex == index)?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('Button',{staticStyle:{\"margin-right\":\"2px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onEdit(row, index)}}},[_vm._v(\"存檔\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){_vm.editIndex = -1; _vm.dirty = false;}}},[_vm._v(\"取消\")])],1):_vm._e()]}}],null,true)})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2fc14170\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/adb/tableConfig.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2fc14170\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tableConfig.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tableConfig.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./tableConfig.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2fc14170\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./tableConfig.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/adb/tableConfig.vue\n// module id = null\n// module chunks = ","<template>\n  <modal id='modalConfig' v-model=\"visible\" title=\"配置\" class-name=\"vertical-center-modal\" \n    @on-visible-change=\"onVisibleChange\" :closable=\"false\"\n    fullscreen\n  >\n    <Tabs type=\"card\" id=\"configTabs\" style=\"margin-top: 5px;\" @on-click=\"onTabClick\">\n      <TabPane :closable=\"false\" v-for=\"(item,key) in configTables\" :key=\"key\"\n        :label=\"key\" :name=\"key\">\n        <TableConfig :columns=\"colTables\" :datas=\"item\" :name=\"key\" :height=\"height\" :active=\"tabCurr == key\"\n          v-if=\"visible == true\" @on-update=\"onUpdate\"  />\n      </TabPane>\n\n      <TabPane :closable=\"false\" v-for=\"(item,key) in panel\" :key=\"key\"\n        :label=\"key\" :name=\"key\">\n        <TableConfig :columns=\"item.cols\" :datas=\"item.datas\" :name=\"key\" :height=\"height\" :active=\"tabCurr == key\"\n          v-if=\"visible == true\" @on-update=\"onUpdate\"  />\n      </TabPane>\n      \n      <TabPane :closable=\"false\" label=\"原始碼\" name=\"原始碼\" id=\"tabPaneCode\">\n        <codemirror :options=\"cmOptions\" ref=\"editor\" \n          @ready=\"onCmReady\"\n          @focus=\"onCmFocus\"\n          @input=\"onCmCodeChange\"\n        />\n      </TabPane>\n      <Button v-if=\"tabCurr != '原始碼' \" @click=\"onTabsAdd\" size=\"small\" slot=\"extra\" style=\"margin-right: 5px;\">\n        新增\n      </Button>\n    </Tabs>\n    <div slot=\"footer\" >\n      <i-button type=\"error\" @click=\"$emit('on-close')\">取消</i-button>\n      <i-button v-if=\"dirty\" type=\"primary\" @click=\"onOK\">確定</i-button>\n    </div>\n  </modal>\n</template>\n<script>\nimport { codemirror } from \"vue-codemirror\";\nimport \"codemirror/addon/lint/lint.css\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"codemirror/theme/monokai.css\"; // 主題顯示，可以百度搜索其他的主題\nrequire(\"script-loader!jsonlint\");\nimport \"codemirror/mode/javascript/javascript\";\nimport \"codemirror/addon/lint/lint\";\nimport \"codemirror/addon/lint/json-lint\";\nimport \"codemirror/addon/fold/foldgutter.css\"\nimport 'codemirror/addon/fold/foldcode.js';\nimport 'codemirror/addon/fold/foldgutter.js';\nimport 'codemirror/addon/fold/indent-fold.js';\nimport \"codemirror/addon/fold/brace-fold\";\nimport 'codemirror/addon/fold/comment-fold.js';\nimport TableConfig from './tableConfig';\n\nexport default {\n  name: 'ModalConfig',\n  props: [\"visible\", \"config\"],\n  components: {codemirror, TableConfig},\n  data () {\n    return {\n      dirty: false,\n      cmOptions: {\n        lineNumbers: true, // 是否顯示行數\n        mode: \"application/json\",\n        theme: \"monokai\", // 主題\n        lint: true,\n        styleActiveLine: true, // 当前行背景高亮\n        matchBrackets: true, // 括号匹配\n        theme: \"monokai\",\n        autoCloseTags: true,\n        autofocus: true,\n        lineWrapping: true /*自动换行*/,\n        indentUnit: 2 /*设置缩进的字符数，默认为2*/,\n        indentWithTabs: true,\n        smartIndent: true /*自动缩进，默认为true*/,\n        tabSize: 2 /*tab字符的宽度，默认为4*/,\n        lineWiseCopyCut: false,\n        foldGutter: true,\n        lint: true,\n        gutters: [\n          \"CodeMirror-linenumbers\",\n          \"CodeMirror-foldgutter\",\n          \"CodeMirror-lint-markers\",\n        ],\n      },\n      height: 0,\n      mode: \"原始碼\",\n      panel: {\n        sql_var: {\n          cols: [{\n            title: '參數',\n            key: 'value',\n            slot: 'value',\n          }],\n          datas: []\n        },\n        projects: {\n          cols: [{\n              title: 'project',\n              key: 'project',\n              slot: 'project',\n              width: 100,\n            }, {\n              title: 'package',\n              key: 'package',\n              slot: 'package',\n              width: 180,\n            }, {\n              title: 'folder',\n              key: 'folder',\n              slot: 'folder',\n            }, {\n              title: 'apk',\n              key: 'apk',\n              slot: 'apk'\n          }],\n          datas: []\n        },\n        database: {\n          cols: [{\n              title: 'title',\n              key: 'title',\n              slot: 'title',\n              width: 100,\n            }, {\n              title: 'host',\n              key: 'host',\n              slot: 'host',\n              width: 180,\n            }, {\n              title: 'port',\n              key: 'port',\n              slot: 'port',\n              type: \"number\"\n            }, {\n              title: 'user',\n              key: 'user',\n              slot: 'user',\n            }, {\n              title: 'password',\n              key: 'password',\n              slot: 'password',\n            }, {\n              title: 'database',\n              key: 'database',\n              slot: 'database',\n            }, {\n              title: 'sys_database',\n              key: 'sys_database',\n              slot: 'sys_database',\n          }],\n          datas: []\n        },\n      },\n      dataDatabase: [],\n      colTables: [{\n          title: '失能',\n          key: 'disable',\n          width: 60,\n          slot: 'disable',\n          type: \"checkbox\"\n        }, {\n          title: '表格名稱',\n          key: 'tbl',\n          width: 200,\n          slot: 'tbl',\n        }, {\n          title: '欄位',\n          key: 'cols',\n          // width: 200,\n          slot: 'cols',\n        }, {\n          title: 'where',\n          key: 'where',\n          slot: 'where',\n      }],\n      configTables: {\n        SYS: [], \n        BASE: [], \n        TRANSACTION: [],\n        OPTIONS: [],       \n      },\n      tabCurr: \"SYS\"\n    }\n  },\n  async mounted() {\n  },\n  methods: {\n    onTabClick(name){\n      this.tabCurr = name;\n      console.log(name)\n    },\n    onTabsAdd(){\n      this.broadcast.$emit(\"config-add\", this.tabCurr);\n    },\n    onCmReady(cm) {\n      cm.focus();\n      this.editor = cm;\n    },\n    onCmFocus(cm) {\n      // console.log('the editor is focus!', cm)\n    },\n    onCmCodeChange(newCode) {\n      this.dirty = true;\n    },\n    onOK(){\n      // console.log(this.editor.getValue())\n      try {\n        let json = JSON.parse(this.editor.getValue());\n        this.$emit(\"on-close\", json);\n      } catch(e) {\n\n      }\n    },\n    onVisibleChange(v) {\n      this.dirty = false;\n      if (v === false) {\n        this.$emit(\"on-close\");\n      } else {\n      }\n    },\n    onResize(){\n      let h1 = document.querySelector(\"#configTabs\").clientHeight;\n      let h2 = document.querySelector(\"#configTabs .ivu-tabs-bar\").clientHeight;\n      this.height = (h1 - h2);\n      document.querySelector(\"#configTabs .ivu-tabs-content\").style.height = this.height + \"px\";\n      let h = document.querySelector(\"#tabPaneCode\").clientHeight;\n      this.height = h;\n      document.querySelector(\".CodeMirror\").style.height = h + \"px\";\n    },\n    readConfig(value){\n      let json = recursion(value);\n      this.editor.setValue(JSON.stringify(json, null, \"\\t\"))\n\n      function recursion(json){\n        let obj = {};\n        for(let key in json) {\n          if(\"nodeKey,expand,selected\".indexOf(key) > -1)\n            continue;\n          else if(key == \"tables\" || key == \"projects\" || key == \"sql_var\" || typeof json[key] == \"string\" || typeof json[key] == \"number\" || typeof json[key] == \"boolean\") {\n            obj[key] = json[key];\n          } else if(Array.isArray(json[key])) {\n            let arr = [];\n            for(let i = 0; i < json[key].length; i++){\n              let obj2 = recursion(json[key][i]);\n              arr.push(obj2);\n            }\n            obj[key] = arr;\n          } else if(typeof json[key] == \"object\"){\n            obj[key] = recursion(json[key])\n          }\n        }\n        return obj;\n      }\n    },\n    onUpdate(datas){\n      console.log(\"onUpdate: \" + this.tabCurr)\n      this.dirty = true;\n      let json = JSON.parse(this.editor.getValue());\n      if(\"SYS,BASE,TRANSACTION,OPTIONS\".indexOf(this.tabCurr) > -1){\n        let arr = [];\n        datas.forEach(row=>{\n          let score = \"\";\n          this.colTables.forEach((item, index) =>{\n            if(item.key == \"disable\" && row[item.key] == true) {\n              score += index;\n            } else if(typeof row[item.key] == \"string\" && row[item.key].length > 0) {\n              score += index;\n            }\n          });\n\n          if(score == \"1\")\n            arr.push(row[\"tbl\"])\n          else if(score.indexOf(\"1\") > -1 && score.length > 1) \n            arr.push(row)\n        })\n        console.log(arr)\n        json.tables[this.tabCurr] = arr;\n      } else {\n        let cols = this.panel[this.tabCurr].cols;\n        let arr = [];\n        datas.forEach(row=>{\n          if(cols.length == 1) {\n            if(typeof row.value == \"string\" && row.value.length > 0)\n              arr.push(row.value)\n          } else {\n            let isRequire = true, isValue = false;\n            cols.forEach(col=>{\n\n              if(col.isRequire == true) {\n                if(typeof row[col.key] == \"undefined\")\n                  isRequire = false;\n                else if(typeof row[col.key] == \"string\" && row[col.key].length == 0)\n                  isRequire = false;\n              }\n              if(isValue == false) {\n                if(typeof row[col.key] == \"string\" && row[col.key].length > 0)\n                  isValue = true;\n                else if(typeof row[col.key] == \"number\")\n                  isValue = true;\n              }\n            });\n\n            if(isRequire == true && isValue == true)\n              arr.push(row)\n          }\n        });\n        if(this.tabCurr == \"database\")\n          json[this.tabCurr][0].children = arr;\n        else\n          json[this.tabCurr] = arr;\n      }\n      this.readConfig(json)\n      // console.log(data)\n    }\n  },\n  watch: {\n    visible(value){\n      if(value == true) {\n        setTimeout(() => {\n          this.onResize();\n        }, 600);\n      } else {\n        this.height = 0;\n      }\n    },\n    config(value) {\n      if(typeof value == \"undefined\") {\n        this.editor.setValue(\"\");\n      } else {\n        for(let key in this.configTables){\n          this.configTables[key] = [];\n        }\n        if(typeof value.tables == \"object\") {\n          for(let key in value.tables){\n            // this.configTables[key] = [];\n            let table1 = value.tables[key];\n            let table2 = this.configTables[key]\n            table1.forEach(item=>{\n              if(typeof item == \"string\")\n                table2.push({tbl: item})\n              else \n                table2.push(Object.assign({}, item));\n            });\n\n            table2.sort(function(a, b){\n              if(a.tbl > b.tbl)\n                return 1;\n              else if(a.tbl < b.tbl)\n                return -1;\n              else\n                return 0;\n            });\n          }\n        }\n         \n        for(let key in this.panel){\n          let target = this.panel[key];\n          target.datas = [];\n          let source = key == \"database\" ? value[key][0].children :  value[key];\n          source.forEach(item=>{\n            let obj = {};\n            if(target.cols.length == 1) {\n              target.datas.push({value: item})\n            } else {\n              target.cols.forEach(col =>{\n                if(typeof item[col.key] != \"undefined\")\n                  obj[col.key] = item[col.key]\n              });\n              target.datas.push(obj);            \n            }\n          });\n        }\n        this.readConfig(value)\n      }\n    }\n  }, \n}\n</script>\n<style>\n.CodeMirror {\n  height: 100%;\n  /* font-family: monospace  !important; */\n}\n.CodeMirror * {\n  font-family: Arial, monospace;\n  font-size: 18px;\n}\n\n#modalConfig .ivu-modal-body {\n  padding: 0px 0px !important;\n  overflow: hidden !important;\n}\n.ivu-tabs-tabpane {\n  height: 100%;\n  overflow: hidden;\n}\n#modalConfig .ivu-table td, .ivu-table th {\n  height: 40px;\n}\n\n#modalConfig  .ivu-table-cell {\n  padding: 0px 5px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n#modalConfig  .ivu-table-cell button span {\n  font-size: 12px;\n}\n#configTabs .ivu-tabs-content {\n  padding-top: 2px;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/adb/modalConfig.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"id\":\"modalConfig\",\"title\":\"配置\",\"class-name\":\"vertical-center-modal\",\"closable\":false,\"fullscreen\":\"\"},on:{\"on-visible-change\":_vm.onVisibleChange},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('Tabs',{staticStyle:{\"margin-top\":\"5px\"},attrs:{\"type\":\"card\",\"id\":\"configTabs\"},on:{\"on-click\":_vm.onTabClick}},[_vm._l((_vm.configTables),function(item,key){return _c('TabPane',{key:key,attrs:{\"closable\":false,\"label\":key,\"name\":key}},[(_vm.visible == true)?_c('TableConfig',{attrs:{\"columns\":_vm.colTables,\"datas\":item,\"name\":key,\"height\":_vm.height,\"active\":_vm.tabCurr == key},on:{\"on-update\":_vm.onUpdate}}):_vm._e()],1)}),_vm._v(\" \"),_vm._l((_vm.panel),function(item,key){return _c('TabPane',{key:key,attrs:{\"closable\":false,\"label\":key,\"name\":key}},[(_vm.visible == true)?_c('TableConfig',{attrs:{\"columns\":item.cols,\"datas\":item.datas,\"name\":key,\"height\":_vm.height,\"active\":_vm.tabCurr == key},on:{\"on-update\":_vm.onUpdate}}):_vm._e()],1)}),_vm._v(\" \"),_c('TabPane',{attrs:{\"closable\":false,\"label\":\"原始碼\",\"name\":\"原始碼\",\"id\":\"tabPaneCode\"}},[_c('codemirror',{ref:\"editor\",attrs:{\"options\":_vm.cmOptions},on:{\"ready\":_vm.onCmReady,\"focus\":_vm.onCmFocus,\"input\":_vm.onCmCodeChange}})],1),_vm._v(\" \"),(_vm.tabCurr != '原始碼' )?_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"slot\":\"extra\",\"size\":\"small\"},on:{\"click\":_vm.onTabsAdd},slot:\"extra\"},[_vm._v(\"\\n      新增\\n    \")]):_vm._e()],2),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('i-button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){return _vm.$emit('on-close')}}},[_vm._v(\"取消\")]),_vm._v(\" \"),(_vm.dirty)?_c('i-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onOK}},[_vm._v(\"確定\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d0c9b192\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/adb/modalConfig.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d0c9b192\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./modalConfig.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./modalConfig.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./modalConfig.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d0c9b192\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./modalConfig.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/adb/modalConfig.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"term-frame\" :style=\"{height: height + ('px'), position: 'relative'}\">\n    <div class=\"term\" :id=\"id\" ref=\"term\" v-html=\"history\">\n      {{history}}\n    </div>\n  </div>\n</template>\n\n<script>\nlet waiting = '<i class=\"demo-spin-icon-load ivu-icon ivu-icon-ios-loading\"></i>'\nlet cursor = \"<span class='term-cursor' />\";\nlet exeMode = \"shell\";\nexport default {\n  name: 'Terminal',\n  components: {\n  },\n  props: ['title', \"height\"],\n  data() {\n    return {\n      history: \"\",\n      processing: false,\n      id: \"term\" + (new Date()).getTime()\n      // cwd: \"\"\n      // height: document.body.clientHeight - 300,\n    };\n  },\n  async mounted() {\n    this.addHistory(\"cwd\", \"cursor\");\n    this.broadcast.$on('term-execute', (title, json)=> {\n      if(title != this.title) return;\n      if(exeMode != \"shell\") {\n        this.history = \"\";\n        document.getElementById(this.id).innerHTML = \"\";\n      }\n      setTimeout(()=>{\n        if(exeMode != \"shell\") this.addHistory(\"cwd\", \"cursor\");\n\n        this.execute(title, json)\n      }, exeMode != \"shell\" ? 600 : 0);\n    });\n    this.broadcast.$on('term-database', (title, json)=> {\n      if(title != this.title) return;\n      this.history = \"\";\n      document.getElementById(this.id).innerHTML = \"\";\n      setTimeout(()=>{\n        this.database(title, json)\n      }, 600);\n    });\n  },\n  destroyed() {\n    if(typeof this.pid != \"undefined\")\n      window.process.kill(this.pid);\n    this.broadcast.$off('term-execute');\n    this.broadcast.$off('term-database');\n  },\n  methods: {\n    cwd(){ // MacOS 測過了 OK，但沒在用\n      return new Promise( async (success, error) => {\n        if(this.$isElectron == false) {\n          success(\"~\")\n        } else if (window.process.platform == 'win32') { // copy 自 hyper-history, 但沒改，可能不能用\n          // if (action && action.data) {\n          //     let path = directoryRegex.exec(action.data);\n          //     if(path){\n          //       currCwd = path[0];\n          //     }\n          // }\n        } else {\n          window.child_process.exec(`lsof -p ${window.process.pid} | grep cwd | tr -s ' ' | cut -d ' ' -f9-`, (err, cwd) => {\n            success(cwd.trim());\n          });\n        }\n      });\n    },\n    async execute(title, commands) {\n      exeMode = \"shell\";\n      console.log(commands)\n      if(commands == \"clear\") {\n        this.history = \"\";\n        this.addHistory(\"cwd\", \"cursor\");\n        this.broadcast.$emit(\"term-finish\")\n        return;\n      }\n      this.processing = true;\n      let arr = commands.split(\"&&\"), results = \"\";\n      for(let i = 0; i < arr.length; i++) {\n        // console.log(arr[i])\n        try {\n          await this.exeCmd(arr[i]);\n        } catch(e) {\n          break;\n        }\n      }\n      this.processing = false;\n      this.broadcast.$emit(\"term-finish\")\n    },\n    async database(title, json) {\n      exeMode = \"database\";\n      let self = this;\n      this.processing = true;\n      \n      json.site = json.sql_var[0].value;\n      json.sql_var.splice(0, 1);\n\n      console.log(json)\n\n      this.addPrompt(\"開始：\" + (new Date()).toString());\n      \n      let target, source;\n      { // 連線......\n        if(json.mode == \"複製\") {\n          try {\n            this.addPrompt({id: \"source_connect\", msg: json.source + \"連線中\"});\n            source = await connect(json.source_config);\n            this.addPrompt({id: \"source_connect\", msg: json.source + \"已連線\"});\n          } catch(e) {\n            this.addPrompt({id: \"source_connect\", msg: json.source + \"連線失敗!!\"});\n            this.addPrompt({error: e.toString()});\n            finish();\n            return;\n          }\n        }\n        try {\n          this.addPrompt({id: \"target_connect\", msg: json.target + \"連線中\"});\n          target = await connect(json.target_config);\n          this.addPrompt({id: \"target_connect\", msg: json.target + \"已連線\"});\n          console.log(target)\n        } catch(e) {\n          this.addPrompt({id: \"target_connect\", msg: json.target + \"連線失敗!!\"});\n          this.addPrompt({error: e.toString()});\n          finish();\n          return;\n        }\n      }\n\n      for(let key in json.tables) {\n        let tables = json.tables[key];\n        for(let i = tables.length - 1; i >= 0; i--) {\n          let tbl = tables[i];\n          if(typeof tbl == \"object\") {\n            if(typeof tbl.disable == \"boolean\" && tbl.disable == true) {\n              tables.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      if(json.mode == \"複製\") {\n        let datas = {}\n        self.addPrompt(json.source + \"資料表複製：\" + json.site);\n        for(let key in json.tables) {\n          let tables = json.tables[key];\n          for(let i = 0; i < tables.length; i++) {\n            let tbl = tables[i], where = \"\", cols = \"*\";\n            if(typeof tbl == \"object\") {\n              if(typeof tbl.cols == \"string\" && tbl.cols.length > 0) {\n                cols = tbl.cols;\n              }\n              if(typeof tbl.tbl == \"string\") {\n                if(typeof tbl.where == \"string\" && tbl.where.trim().length > 0) {\n                  let x = tbl.where.toUpperCase();\n                  if(x.indexOf(\"AND \") == 0 || x.indexOf(\"OR \") == 0 || x.indexOf(\"ORDER BY\") == 0 || x.indexOf(\"LIMIT \") == 0) {\n\n                  } else\n                    where = \" and \" + tbl.where;\n\n                  json.sql_var.forEach(el => {\n                    where = where.replace(\"{\" + el.title + \"}\", el.value)\n                  });\n                }\n                tbl = tbl.tbl;\n              } else {\n                console.log(\"表格參數不正確\", tbl);\n                this.addPrompt({error: \"表格參數不正確<br/>\" + JSON.stringify(tbl) });\n                break;\n              }\n            }\n\n            try {\n              this.addPrompt({id: \"source_\" + tbl, msg: \"讀取 \" + tbl + \" ......\"});\n              let sql = \"Select \" + cols + \" from \" + (key == \"SYS\" ? json.source_config.sys_database + \".\" : \"\") + tbl + \n                \" Where \" +\n                ( tbl == \"USERGROUPS\" \n                  ? \"USERID Like Concat('%@','\" + json.site + \"')\"\n                  : \"SITE = '\"  + json.site + \"'\"\n                ) + where; // limit 100\n              // console.log(sql)\n              let tableSource = await query(source, sql);\n              // if(tableSource.rows.length > 0) {\n              //   if(typeof datas[key] == \"undefined\") datas[key] = {};\n              //   datas[key][tbl] = tableSource.rows;\n              // }\n              this.addPrompt({id: \"source_\" + tbl, msg: \"讀取 \" + tbl + \"；\" + (tableSource.rows.length) + \" 列\"});\n              //----------------------------------\n              // self.addPrompt(json.target + \"資料表寫入：\" + json.site);\n              for(let j = 0; j < tableSource.rows.length; j++) {\n                // if(j > 0) {\n                  this.addPrompt({id: \"target_\" + tbl, msg: \"寫入 \" + tbl + \": \" + (j + 1) + \" / \" + tableSource.rows.length });\n                // }\n                let sql = \"\";\n                sql = \"Insert Into \" + (key == \"SYS\" ? json.target_config.sys_database + \".\" : \"\") + tbl + \n                  \" Set \";\n                let row = tableSource.rows[j];\n                let set = \"\"\n                for(let key2 in row) {\n                  if(row[key2] != null){\n                    let val = typeof row[key2] == \"string\" \n                      ? row[key2].replace(new RegExp(\"'\", \"gm\"),\"''\")\n                      : row[key2];\n                    set += (set.length > 0 ? \", \" : \"\") + key2 + \"='\" + val + \"'\";\n                  }\n                }\n                sql += set;\n                // console.log(sql)\n                await query(target, sql)\n              }\n              if(tableSource.rows.length > 0)\n                this.addPrompt({id: \"target_\" + tbl, msg: \"寫入 \" + tbl + \": \" + tableSource.rows.length + \" 列\"});\n              //----------------------------------\n            } catch(e) {\n              this.addPrompt({error: e.toString()});\n              finish();\n              return;\n            }\n          }\n          // console.log(datas); // break;\n        }\n        source.end();\n        /*\n        self.addPrompt(json.target + \"資料表寫入：\" + json.site);\n        for(let key in datas) {\n          let tables = datas[key];\n          for(let tbl in tables) {\n            this.addPrompt({id: \"target_\" + tbl, msg: \"寫入 \" + tbl});\n            // console.log(tables[tbl])\n            for(let i = 0; i < tables[tbl].length; i++) {\n              if(i > 0) {\n                this.addPrompt({id: \"target_\" + tbl, msg: \"寫入 \" + tbl + \": \" + (i + 1) + \" / \" + tables[tbl].length });\n              }\n              let sql = \"\";\n              try {\n              //   \n                sql = \"Insert Into \" + (key == \"SYS\" ? json.target_config.sys_database + \".\" : \"\") + tbl + \n                  \" Set \";\n                let row = tables[tbl][i];\n                let set = \"\"\n                for(let key2 in row) {\n                  if(row[key2] != null){\n                    let val = typeof row[key2] == \"string\" \n                      ? row[key2].replace(new RegExp(\"'\", \"gm\"),\"''\")\n                      : row[key2];\n                    set += (set.length > 0 ? \", \" : \"\") + key2 + \"='\" + val + \"'\";\n                  }\n                }\n                sql += set;\n                // console.log(sql + set)\n                let x = await query(target, sql)\n                // this.addPrompt({id: \"target_\" + tbl, msg: \"寫入 \" + tbl + \"\"});\n              } catch(e) {\n                this.addPrompt({error: sql + \"<br/>\" + e.toString()});\n                finish();\n                return;\n              }\n            }\n            this.addPrompt({id: \"target_\" + tbl, msg: \"寫入 \" + tbl + \": \" + tables[tbl].length + \" 列\"});\n            // console.log(tbl)\n          }\n        }\n        */\n        target.end();\n      } else { // \n        self.addPrompt(json.target + \"資料表刪除：\" + json.site);\n        for(let key in json.tables) {\n          let tables = json.tables[key];\n          for(let i = 0; i < tables.length; i++) {\n            let tbl = tables[i];\n            if(typeof tbl == \"object\") {\n              if(typeof tbl.tbl == \"string\") {\n                tbl = tbl.tbl;\n              } else {\n                console.log(\"表格參數不正確\", tbl);\n                this.addPrompt({error: \"表格參數不正確<br/>\" + JSON.stringify(tbl) });\n                break;\n              }\n            }\n            try {\n              this.addPrompt({id: \"target_\" + tbl, msg: \"刪除 \" + tbl + \" ......\"});\n              let sql = \"Delete from \" + (key == \"SYS\" ? json.target_config.sys_database + \".\" : \"\") + tbl + \n                \" Where \" +\n                ( tbl == \"USERGROUPS\" \n                  ? \"USERID Like Concat('%@','\" + json.site + \"')\"\n                  : \"SITE = '\"  + json.site + \"'\"\n                );\n              console.log(sql)\n              let x = await query(target, sql)\n\n              this.addPrompt({id: \"target_\" + tbl, msg: \"刪除 \" + tbl + \"\"});\n            } catch(e) {\n              this.addPrompt({error: e.toString()});\n              finish();\n              return;\n            }\n          }\n        }\n        target.end();\n      }\n      finish();\n\n      function connect(config) {\n        return new Promise( async (success, error) => {\n          if(self.$isElectron== true) {\n            let db = window.mysql.createConnection(config);\n            db.connect(function(err){\n              if(err) \n                error(err);\n              else \n                success(db)\n            });\n          } else {\n            setTimeout(() => {\n              success(\"error test\")\n            }, 1000);\n          }\n        })\n      }\n\n      function query(connect, sql) {\n        return new Promise( async (success, error) => {\n          if(self.$isElectron== true) {\n            connect.query(sql, function(err, rows, fields) {\n              if(err){\n                error(err + \"<br/><br/>\" + sql);\n              } else {\n                setTimeout(() => {\n                  success({rows, fields});\n                }, 600);\n              }\n            });\n          } else {\n            setTimeout(() => {\n              success(\"error test\")\n            }, 1000);\n          }\n        });\n      }\n\n      function finish(){\n        self.addPrompt(\"結束：\" + (new Date()).toString());\n        self.processing = false;\n        self.broadcast.$emit(\"term-finish\");\n      }\n    },\n    exeCmd(command) {\n      this.history = this.history.replace(cursor, \"\")\n\n      return new Promise( async (success, error) => {\n        // console.log(command)\n        this.addHistory(command.trim(), \"waiting\", \"\\n\");\n        if(this.$isElectron== true){\n          let arr = command.trim().split(\" \"), result = \"\";\n          let cmd = arr[0];\n          arr.splice(0, 1);\n\n          let bat = window.child_process.spawn(cmd, arr);\n          this.pid = bat.pid;\n          bat.stdout.on(\"data\", (data) => {\n            console.log(\"stdout: \" + data.toString())\n            this.addHistory(data.toString());\n          });\n\n          bat.stderr.on(\"data\", async (err) => {\n            window.process.kill(bat.pid);\n            this.pid = undefined;\n            error(err.toString());\n            this.history = this.history.replace(waiting, \"\");\n            this.addHistory({error: err.toString()});\n            this.addHistory(\"\\n\", \"cwd\", \"cursor\");\n          });\n\n          bat.on(\"exit\", async (code) => {\n            if(typeof this.pid != \"undefined\") {\n              this.history = this.history.replace(waiting, \"\");\n              this.pid = undefined;\n              console.log(\"exit.......\")\n              success(result)   \n              this.addHistory(\"cwd\", \"cursor\");\n            }\n          });\n        } else {\n          this.history = this.history.replace(waiting, \"\");\n          this.addHistory(\"cwd\", \"cursor\");\n          success();\n        }\n      });\n    },\n    addHistory(){\n      for(let i = 0; i < arguments.length; i++){\n        // console.log(i + \": '\" + arguments[i] + \"'\")\n        if(typeof arguments[i].error == \"string\") {\n          this.history.replace(waiting, \"\");\n          this.history += \"<span class='term-error' >\" + arguments[i].error + \"</span>\";\n        } else if(arguments[i] == \"cwd\") {\n          this.history += \"<span class='tem-prompt' >~ $ </span>\";\n        } else if(arguments[i] == \"cursor\") {\n          this.history += cursor;\n        } else if(arguments[i] == \"waiting\") {\n          this.history += waiting;\n        } else {\n          this.history += \"<span>\" + arguments[i].replace(new RegExp(\"\\n\",\"gm\"),\"<br/>\") + \"</span>\"\n        }\n      }\n      setTimeout(()=>{\n        this.$refs[\"term\"].scrollTop = this.$refs[\"term\"].scrollHeight;\n      }, 300)\n    },\n    addPrompt(arg){\n      if(typeof arg.id == \"string\") {\n        let child = document.querySelector(\"#\" + this.id + \" .\" + arg.id);\n        if(child == null) {\n          let node = document.createElement(\"div\");\n          node.innerHTML = \"<span class='tem-prompt' >SQL > </span>\" +\n            \"<span class='\" + arg.id + \"'>\" + arg.msg + waiting+ \"</span\";  \n          document.getElementById(this.id).appendChild(node); \n        } else {\n          child.innerHTML = arg.msg;\n        }\n      } else if(typeof arg.error == \"string\") {\n        let node = document.createElement(\"div\");\n        node.innerHTML = \"<span class='term-error' >\" + arg.error + \"</span>\";\n        document.getElementById(this.id).appendChild(node)\n      } else if(typeof arg == \"string\") {\n        let node = document.createElement(\"div\");\n        node.innerHTML = arg;  \n        document.getElementById(this.id).appendChild(node); \n      }\n      setTimeout(()=>{\n        this.$refs[\"term\"].scrollTop = this.$refs[\"term\"].scrollHeight;\n      }, 300)\n    }\n  },\n  watch: {\n    // command(value) {}\n  }\n}\n</script>\n\n<style>\n.term {\n  height: 100%;\n  background: #272822; \n  color: #f8f8f2;\n  text-align: left;\n  padding: 3px;\n  z-index: 1;\n  overflow: auto;\n  /* zoom: 1.2; */\n  font-family: Arial, monospace;\n  font-size: 18px;\n}\n.tem-prompt {\n  font: inherit;\n  color: yellow;\n}\n.term-error {\n  font: inherit;\n  color: red;\n}\n.term-cursor {\n  width: 10px;\n  height: 16px;\n  margin-bottom: -2px;\n  display: inline-block;\n  background-color: white;\n}\n\n.demo-spin-icon-load{\n  animation: ani-demo-spin 1s linear infinite;\n  margin-left: 10px;\n  font-size: 18px; \n}\n.demo-split-pane {\n  padding: 5px 5px 5px 10px;\n}\n@keyframes ani-demo-spin {\n    from { transform: rotate(0deg);}\n    50%  { transform: rotate(180deg);}\n    to   { transform: rotate(360deg);}\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/adb/terminal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"term-frame\",style:({height: _vm.height + ('px'), position: 'relative'})},[_c('div',{ref:\"term\",staticClass:\"term\",attrs:{\"id\":_vm.id},domProps:{\"innerHTML\":_vm._s(_vm.history)}},[_vm._v(\"\\n    \"+_vm._s(_vm.history)+\"\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08ed8116\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/adb/terminal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-08ed8116\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./terminal.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./terminal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./terminal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08ed8116\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./terminal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/adb/terminal.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"modalProject\" >\n    <Table border :columns=\"columns\" :data=\"list\" @on-row-click=\"onRowClick\"></Table>\n  </div>\n</template>\n<script>\n\nexport default {\n  name: 'ModalProject',\n  props: [\"list\"],\n  components: {\n  },\n  data () {\n    return {\n      columns: [{\n        title: '專案',\n        key: 'project',\n      }],\n    }\n  },\n  async mounted() {\n    // setTimeout(()=>{\n    //   let modal = document.querySelectorAll(\".ivu-modal\");\n    //   for(let i = 0; i < modal.length; i++) {\n    //     if(modal[i].style.display != \"none\") {\n    //       modal[i].style.top = \"20px\";\n    //       let tabScript = document.querySelector(\"#tab-script\");\n    //       let textarea = document.querySelector(\"#scriptValue textarea\");\n    //       textarea.style.height = (tabScript.clientHeight -8) + \"px\";\n    //     }\n    //   }\n    // }, 300)\n  },\n  methods: {\n    onRowClick(data, index){\n      // console.log(data, index)\n      this.$emit(\"rowClick\", data)\n    },\n  }\n}\n\n</script>\n\n<style>\n.ivu-tabs {\n  height: calc(100% - 5px);\n}\n.ivu-tabs {\n  display: flex;\n  flex-direction: column;\n}\n.ivu-tabs-bar {\n  margin: 0px;\n}\n.ivu-tabs-content {\n  flex: 1;\n  width: 100%;\n}\n.tab-pane {\n  height: 100%;\n  padding: 5px 0px;\n}\n.ivu-table-cell {\n  padding: 0px 5px;\n}\n.ivu-table td, .ivu-table th {\n  height: 30px;\n}\n#modalProject {\n  \n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/adb/modalProject.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"modalProject\"}},[_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.list},on:{\"on-row-click\":_vm.onRowClick}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11c74a31\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/adb/modalProject.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11c74a31\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./modalProject.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./modalProject.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./modalProject.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11c74a31\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./modalProject.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/adb/modalProject.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\" style=\"display: flex; flex-direction: column; align-items: stretch; justify-content: end\">\n    <div style=\"background: #2d8cf0; display: flex; flex-direction: row; justify-content: start; align-items: center;\">\n      <div style=\"flex: 1; text-align: left; color: white; padding: 5px; \">\n        {{\"指令集\"}}\n        <span @click=\"projectPicker\" v-if=\"project != null\" style=\"cursor: pointer;\">\n          {{\"[\" + project.project + \"]\"}}\n        </span>\n      </div>\n      <Icon type=\"md-cog\" class=\"btn\" @click.native=\"visibleConfig=true\"></Icon>\n      <!-- <Icon type=\"md-close\" class=\"btn\" @click.native=\"onClickIcon\"></Icon> -->\n      <!-- https://www.iviewui.com/components/icon -->\n    </div>\n    <div  style=\"flex: 1;\">\n      <Split v-model=\"split1\"  @on-move-end=\"onMoveEnd\">\n        <div slot=\"left\" id=\"left\" class=\"demo-split-pane\" style=\"z-index: 1; overflow-x: hidden;\">\n          <div style=\"flex: 1;\">\n          <Tree :data=\"config.commands.concat(config.database)\" style=\"z-index: -1; \" @on-select-change=\"onSelectChange\" \n            :render=\"renderTreeItem\" />\n          </div>\n          <!--  -->\n          <div id=\"version\">2021-03-22 14:20</div>\n        </div>\n        <div slot=\"right\" id=\"right\" class=\"demo-split-pane\" style=\"z-index: 1; overflow-x: hidden;\">\n          <Tabs type=\"card\" id=\"adbTabs\"  @on-tab-remove=\"onTabRemove\" @on-click=\"onTabClick\">\n            <TabPane v-for=\"(tab, index) in tabs\" :closable=\"index == 0 ? false : true\" \n              :name=\"tab.title\" :key=\"tab.id\" :label=\"'Shell ' + tab.title\">\n              <Terminal :ref=\"'term-' + tab.title\"  :height=\"height\"\n              :title=\"tab.title\" />\n            </TabPane>\n            <Button @click=\"onTabsAdd\" size=\"small\" slot=\"extra\">增加</Button>\n        </Tabs>\n        </div>\n      </Split>\n    </div>\n    <ModalConfig :visible=\"visibleConfig\" @on-close=\"onCloseConfig\" \n      :config=\"visibleConfig == false ? undefined : config\"\n    />\n    <ModalDatabaseOption :visible=\"visibleOption\" :config=\"visibleOption == false ? undefined : config\" @on-close=\"onCloseDatabaseOption\" />\n  </div>\n</template>\n\n<script>\nimport ModalDatabaseOption from \"./modalDatabaseOption\";\nimport ModalDatabasePicker from \"./modalDatabasePicker\";\nimport ModalConfig from \"./modalConfig\";\nimport Terminal from \"./terminal\";\nimport ModalProject from \"./modalProject\";\nlet processing = false;\nlet cols = [{title: \"主機\", key: \"host\"},\n  {title: \"埠\", key: \"port\"},\n  {title: \"帳號\", key: \"user\"},\n  {title: \"密碼\", key: \"password\"},\n  {title: \"database\", key: \"database\"},\n  {title: \"sys_database\", key: \"sys_database\"},\n]\n// https://www.iviewui.com/components/tree\n// https://www.iviewui.com/components/tabs\n// 清空 cache 目錄(還沒寫) /Users/jimc/Library/Application Support/scallop/TransportSecurity\nexport default {\n  name: 'ADB',\n  components: {ModalConfig, Terminal, ModalDatabaseOption},\n  data () {\n    return {\n      split1: 0.3,\n      visibleConfig: false,\n      visibleOption: false, //this.$isElectron== true ? false : true,\n      tabs: [{title: \"1\", id: 1}],\n      tabIndex: 1,\n      tabCurr: \"1\",\n      height: 0,\n      project: null,\n      config: {\n        projects: [\n          {project: \"BiPOS\", package: \"com.bipos\", folder: \"~/Documents/Project/BiPOS2\", apk: \"/release/BiPOS2-release.apk\"},\n          {project: \"mECR\", package: \"com.bethel.v1\", folder: \"~/react-native/V1/android\", apk: \"/app/build/outputs/apk/mECR.apk\"},\n          {project: \"KONE\", package: \"com.jabezpos.kone\", folder: \"~/react-native/kone/android\", apk: \"/app/build/outputs/apk/release/KONE.apk\"},\n          {project: \"JabezDC\", package: \"com.jabezdc\", folder: \"~/react-native/jabezdc/android\", apk: \"/app/build/outputs/apk/release/JabezDC.apk\"},\n        ],\n        commands: [\n          {title: \"app 專案\", icon: \"logo-android\", expand: true,\n            children: [\n              {title: \"開啟資料夾\", cmd: \"open {project.folder}\"},\n              {title: \"安裝專案\", cmd: \"adb install -r {project.folder}{project.apk}\"},\n              {title: \"啓動專案\", cmd: \"adb shell am start {project.package}/{project.package}.MainActivity\"},\n              {title: \"停止專案\", cmd: \"adb shell am force-stop {project.package}\"},\n              {title: \"移除專案\", cmd: \"adb shell pm uninstall -k {project.package}\"},            \n            ]\n          },\n          {title: \"ADB\", expand: true, children: [\n            {title: \"reverse(8081)\", cmd: \"adb reverse tcp:8081 tcp:8081\"},\n            {title: \"擷取畫面\", cmd: \"adb shell screencap -p /sdcard/Download/screencap.png && adb pull /sdcard/Download/screencap.png ~/Downloads && open ~/Downloads && adb shell rm /sdcard/Download/screencap.png\"},\n          ]},\n          \n          {title: \"清除終端機\", role: \"clear\"},\n        ],\n        database: [\n          {title: \"資料庫設定\", expand: true,\n            children: [\n              {title: \"正式區\", role: \"database\", port: 3306},\n              {title: \"測試區\", role: \"database\", port: 3306},\n              {title: \"77區\", role: \"database\", port: 3306}\n            ]\n          },\n          {title: \"資料庫複製\", icon: \"md-redo\", role: \"database-replicate\"},\n        ],\n        tables: {\n          SYS: [\"SITES\", \"USERS\", \"USERGROUPS\"],\n          BASE: [\"APLSYS\", \"TMMF\", \"STKNAME\", \"STOCK\", \"SYSCOD\", \"BAS_EMP\", \"BAS_IO\", \"BAS_IOGROUP\", \"BAS_PTYPE\", \n            \"BAS_PUBLIC\", \"BAS_SER\", \"CASHMF\", \"CLEVEL\", \"CODE\", \"DPF_PLU2\", \"DPF_PLU3\", \"DPF_PLU4\", \n            \"DPMF\", \"F_PLU1\", \"F_PLU12\", \"F_PLU2\", \"F_PLU23MF\", \"F_PLU3\", \"F_PLU4\", \"F_TABMF\", \"GPMF\", \n            \"MGUIELEC\", \"MGUIELEC_D\", \"MGUIELEC_H\", \"MGUIELEC_S\", \"PADNAME\", \"PAYMENT\", \"PRN_TYPE\", \"PSERVER\", \n            \"PSERVER_LST\", \"PSERVER_STORE\",\n            \"PRODUCT\", \"PRODUCT_ORD\", \"PRODUCT_RATE\", \"FFDP\", \"FFDPPLU\", \"FFDP_HS\", \"FFPLU\", \"FFRTR\", \n            \"PROMO_H\", \"PROMO_I\", \"SITES_JPC_PARAM\", \"SITES_JPC_PARAM_D\", \"SITES_PARAM\", \n            \"SIZE\", \"BAS_DESC2\", \"BAS_DP\"],\n          TRANSACTION: [\n            {\"tbl\": \"HTRH\", \"disable\": true, \"where\": \"STOCK_NO = '{STOCK_NO}' and TRN_DATE = '{T_DAY}'\"},\n            {\"tbl\": \"HTRI\", \"disable\": true, \"where\": \"STOCK_NO = '{STOCK_NO}' and TRN_DATE = '{T_DAY}'\"},\n            {\"tbl\": \"POS_H\", \"where\": \"T_STORE = '{STOCK_NO}' and T_DAY = '{T_DAY}'\"},\n            {\"tbl\": \"POS_I\", \"where\": \"T_STORE = '{STOCK_NO}' and T_DAY = '{T_DAY}'\"},\n            {\"tbl\": \"POS_HM\", \"where\": \"T_STORE = '{STOCK_NO}' and T_DAY = '{T_DAY}'\"},\n          ],\n          OPTIONS: [\n            \"ADCAROUSEL\", \"APPSITEMENU\", \"BARCODE_FMT\", \"BEACONPOS\", \"BEACONTMPLIST\", \"BGPMF\", \n            \"BONUSLOG\", \"BONUSMASTER\", \"BULLETIN_BOARD\", \"COLOR\", \"FINDATA\", \"IMPORT\", \n            \"IITEM\", \"IOAMT_H\", \"IOAMT_I\", \"MAKER\", \"MAKER_C\", \"MTAXH\", \"MTAXI\", \"PACK\", \"POS_E\", \n            \"PREPAIDRULE\", \"QITEM\", \"RECEPTION\", \"RIITEM\", \"RIMP\", \n            \"SCHG_H\", \"SCHG_I\", \"TAKE_H\", \"TAKE_I\", \"TOITEM\", \"TORDER\", \"TRANS_2UBILL\", \n            \"TRANS_EZPAYMENT\", \"TRANS_IPASS\", \"TRANS_IPASS_CR\", \"TRANS_PMS\", \"TRANS_UUPON\", \n            \"VIPMF\", \"VIPMF_LOG\"\n          ]\n        },\n        sql_var: [ \"STOCK_NO\", \"TM_NO\", \"T_DAY\"]\n      },\n    }\n  },\n  async mounted() {\n    let w = localStorage[\"adb-split-left-width\"];\n    if(typeof w == \"undefined\")\n      w = 300;\n    this.split1 = 1 - ((document.body.clientWidth - w) / document.body.clientWidth);\n    if(this.$isElectron== true){\n      \n    }\n    let x = localStorage[\"adb-config\"];\n    if(typeof x == \"string\" && x.length > 0) {\n      this.config = JSON.parse(x);\n    }\n    x = localStorage[\"adb-project\"]; \n    if(typeof x == \"string\" && x.length > 0) {\n      let arr = this.config.projects.filter(item=>{\n        return item.project == x;\n      });\n      if(arr.length == 1) this.project = arr[0]\n    }\n\n    // else {\n    //   this.visibleConfig = true;\n    // }\n    this.broadcast.$on(\"on-resize\", this.onResize);\n    this.onResize();\n    this.broadcast.$on('term-finish',  this.executeFinish);\n  },\n  destroyed() {\n    this.broadcast.$off(\"on-resize\", this.onResize);\n    this.broadcast.$off('term-finish',  this.executeFinish);\n  },\n  methods: {\n    onMoveEnd(){\n      let w = document.querySelector(\".left-pane\").clientWidth;\n      localStorage[\"adb-split-left-width\"] = w;\n    },\n    onResize(){\n      let h1 = document.querySelector(\"#adbTabs\").clientHeight;\n      let h2 = document.querySelector(\"#adbTabs .ivu-tabs-bar\").clientHeight;\n      this.height = (h1 - h2);\n      document.querySelector(\"#adbTabs .ivu-tabs-content\").style.height = this.height + \"px\";\n    },\n    onClickIcon(){\n      alert(\"還沒寫，只作測試用，\" + this.tabCurr)\n      // console.log(this.$refs[\"term-\" + this.tabCurr])\n    },\n    onCloseConfig(data){\n      if(typeof data != \"undefined\"){\n        localStorage[\"adb-config\"] = JSON.stringify(data);\n        this.config = data;\n      }\n      this.visibleConfig = false;\n    },\n    onCloseDatabaseOption(data){ // not yet\n      this.visibleOption = false;\n      if(typeof data == \"object\") {\n        processing = true;\n        let tables = {SYS: this.config.tables.SYS, BASE: this.config.tables.BASE};\n        if(data.mode == \"刪除\" || data.tables.indexOf('交易資料表') !=  -1) {\n          tables.TRANSACTION = this.config.tables.TRANSACTION;\n        }\n        if(data.mode == \"刪除\" || data.tables.indexOf('自訂資料表') !=  -1) {\n          tables.OPTIONS = this.config.tables.OPTIONS;\n        }\n        data.tables = tables;\n        this.broadcast.$emit(\"term-database\", this.tabCurr, data);\n      }\n    },\n    onSelectChange(node) { // treeview click\n      let self = this;\n      if(processing == true) return;\n      if(typeof node.children == \"undefined\") {\n        if(typeof node.cmd == \"string\" && node.cmd.trim().length > 0) {\n          if(node.cmd.indexOf(\"{project.\") > -1) {\n            if(this.project == null) {\n              this.projectPicker(()=>{\n                setProject(node.cmd);\n              })\n            } else {\n              setProject(node.cmd);\n            }\n            // openModal(node.cmd)\n          } else\n            execute(node.cmd)\n        } else if(typeof node.role == \"string\") {\n          // console.log(node)\n          if(node.role == \"clear\")\n            execute(node.role)\n          else if(node.role == \"database-replicate\"){ // 資料庫複製\n            self.visibleOption = true;\n          } else if(node.role == \"database\")\n            self.databasePicker(node)\n          else\n            alert(\"role: \" + node.role)\n        }\n      }\n      \n      for(let key1 in this.config.commands) { // nodeKey\n        let item1 = this.config.commands[key1];\n        if(typeof item1.children == \"object\") {\n          let children = this.config.commands[key1].children;\n          for(let i = 0; i < children.length; i++) {\n            let item2 = children[i];\n            if(typeof item2.children == \"object\") {\n            } else if(typeof item2.selected == \"boolean\") {\n              if(node.nodeKey != item2.nodeKey) {\n                item2.selected = undefined;\n                this.$set(this.config.commands[key1].children, i, item2)\n              }\n            } else if(node.nodeKey == item2.nodeKey) {\n              item2.selected = true;\n              this.$set(this.config.commands[key1].children, i, item2)\n            }\n          }\n        } else if(typeof item1.selected == \"boolean\") {\n          if(node.nodeKey != item1.nodeKey) {\n            item1.selected = undefined;\n            this.$set(this.config.commands, key1, this.config.commands[key1])\n          }\n        } else if(node.nodeKey == item1.nodeKey) {\n          item1.selected = true;\n          this.$set(this.config.commands, key1, this.config.commands[key1]);\n        }\n      }\n      function execute(cmd) {\n        if(typeof window.process == \"object\")\n          cmd = cmd.replace(new RegExp(\"~/\",\"gm\"), \"/Users/\" + window.process.env.USER + \"/\");\n        processing = true;\n        self.broadcast.$emit(\"term-execute\", self.tabCurr, cmd);\n      }\n      function setProject(cmd) {       \n        for(let key in self.project) {\n          if(key == \"project\")\n            continue;\n          else {\n            cmd = cmd.replace(new RegExp(\"{project.\" + key + \"}\",\"gm\"), self.project[key])\n          }\n        }\n        execute(cmd)\n      }\n    },\n    projectPicker(callback){\n      let self = this;\n      this.$Modal.info({\n        title: \"專案清單\",\n        width: 300,\n        render: (h) => {\n          return h(ModalProject, {\n              props: {\n                list: self.config.projects\n              },\n              on: {\n                rowClick: (value) => {\n                  self.project = value;\n                  if(this.$isElectron == false)\n                    localStorage[\"adb-project\"] = value.project;\n                  if(typeof callback == \"function\") callback();\n                  self.$Modal.remove();\n                }\n              }\n          })\n        },\n      })\n    },\n    databasePicker(database) {\n      let dirty = false;\n      this.$Modal.confirm({\n        title: \"資料庫設定［\" + database.title + \"］\",\n        width: 500,\n        render: (h) => {\n          return h(ModalDatabasePicker, {\n              props: {\n                database, \n                cols\n              },\n              on: {\n                onChange: (value) => {\n                  dirty = true;\n                },\n              }\n          })\n        },\n        onOk: () => {\n          if(dirty == true) {\n            localStorage[\"adb-config\"] = JSON.stringify(this.config);\n          }\n        },\n      });\n    },\n    executeFinish(){\n      processing = false;\n    },\n    onTabRemove(index) {\n      for(let i = 0; i < this.tabs.length; i++) {\n        if(this.tabs[i].title == index) {\n          if(i == this.tabs.length - 1) {\n            this.tabCurr = this.tabs[i - 1].title;\n          } else {\n            this.tabCurr = this.tabs[i + 1].title;\n          }\n          this.tabs.splice(i, 1)\n          break;\n        }\n      }\n    },\n    onTabsAdd(){\n      ++this.tabIndex\n      this.tabs.push({title: this.tabIndex.toString(), id: this.tabIndex});\n    },\n    onTabClick(name){\n      this.tabCurr = name;\n      console.log(\"onTabClick: \", name)\n    },\n    renderTreeItem (h, { root, node, data }) {\n      let child = [h('span', \n        {\n          class: \"ivu-tree-title\" + (data.selected == true ? \" ivu-tree-title-selected\" : \"\"),\n          on: {\n            click: () => {\n              this.onSelectChange(data)\n            }\n          }\n        },  \n        data.title)\n      ];\n      // <Icon type=\"md-folder\" /> <Icon type=\"ios-folder-open\" />\n        child.unshift(h('Icon', \n          {\n            props: {\n                type: typeof data.icon == \"string\" ? data.icon \n                : (typeof data.children == \"undefined\" ? 'ios-paper-outline' \n                  : data.expand == true ? \"ios-folder-open\" : \"md-folder\")\n            },\n            style: {\n                marginRight: '2px',\n                // color: \"red\"\n            }\n          }\n        ))\n\n      // console.log(data)\n      // <Icon type=\"md-tablet-portrait\" />\n      // <Icon type=\"md-phone-portrait\" />\n      // <Icon type=\"logo-android\" />\n      return h('span', { \n          style: { display: 'inline-block', width: '100%', marginBottom: \"0px\"},\n        }, child);\n    },\n  },\n}\n</script>\n\n<style>\nhtml, body {\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n  overflow: hidden;\n}\ndiv, span {\n  user-select: none;\n}\n* {\n  box-size: border-box;\n  font-family: 'Times New Roman', 'Helvetica Neue', 微軟正黑體, 'Microsoft Jhenghei', Helvetica, Arial, sans-serif;\n\tfont-size: 16px;\n}\n#app {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  height: 100%;\n}\n#left, #right {\n  height: 100%;\n}\n#left {\n  display: flex;\n  flex-direction: column;\n}\n#version {\n  color: red;\n  z-index: -1;\n  overflow-x: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.demo-split{\n  height: 200px;\n  border: 1px solid #dcdee2;\n}\n.demo-split-pane{\n  padding: 10px;\n}\n.ivu-tree {\n  text-align: left;\n}\n.ivu-tree ul li {\n  padding: 0px;\n  margin: 0px;\n}\n.btn {\n  margin: 5px 10px 5px 0;\n  color: white;\n  font-size: 25px;\n  cursor: pointer;\n}\n.ivu-tabs {\n  height: calc(100% - 0px);\n  display: flex;\n  flex-direction: column;\n}\n.ivu-tabs-bar {\n  margin: 0px;\n}\n.ivu-tabs-content {\n  flex: 1;\n  width: 100%;\n}\n.tab-pane {\n  height: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/adb/adb.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"stretch\",\"justify-content\":\"end\"},attrs:{\"id\":\"app\"}},[_c('div',{staticStyle:{\"background\":\"#2d8cf0\",\"display\":\"flex\",\"flex-direction\":\"row\",\"justify-content\":\"start\",\"align-items\":\"center\"}},[_c('div',{staticStyle:{\"flex\":\"1\",\"text-align\":\"left\",\"color\":\"white\",\"padding\":\"5px\"}},[_vm._v(\"\\n      \"+_vm._s(\"指令集\")+\"\\n      \"),(_vm.project != null)?_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.projectPicker}},[_vm._v(\"\\n        \"+_vm._s(\"[\" + _vm.project.project + \"]\")+\"\\n      \")]):_vm._e()]),_vm._v(\" \"),_c('Icon',{staticClass:\"btn\",attrs:{\"type\":\"md-cog\"},nativeOn:{\"click\":function($event){_vm.visibleConfig=true}}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('Split',{on:{\"on-move-end\":_vm.onMoveEnd},model:{value:(_vm.split1),callback:function ($$v) {_vm.split1=$$v},expression:\"split1\"}},[_c('div',{staticClass:\"demo-split-pane\",staticStyle:{\"z-index\":\"1\",\"overflow-x\":\"hidden\"},attrs:{\"slot\":\"left\",\"id\":\"left\"},slot:\"left\"},[_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('Tree',{staticStyle:{\"z-index\":\"-1\"},attrs:{\"data\":_vm.config.commands.concat(_vm.config.database),\"render\":_vm.renderTreeItem},on:{\"on-select-change\":_vm.onSelectChange}})],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"version\"}},[_vm._v(\"2021-03-22 14:20\")])]),_vm._v(\" \"),_c('div',{staticClass:\"demo-split-pane\",staticStyle:{\"z-index\":\"1\",\"overflow-x\":\"hidden\"},attrs:{\"slot\":\"right\",\"id\":\"right\"},slot:\"right\"},[_c('Tabs',{attrs:{\"type\":\"card\",\"id\":\"adbTabs\"},on:{\"on-tab-remove\":_vm.onTabRemove,\"on-click\":_vm.onTabClick}},[_vm._l((_vm.tabs),function(tab,index){return _c('TabPane',{key:tab.id,attrs:{\"closable\":index == 0 ? false : true,\"name\":tab.title,\"label\":'Shell ' + tab.title}},[_c('Terminal',{ref:'term-' + tab.title,refInFor:true,attrs:{\"height\":_vm.height,\"title\":tab.title}})],1)}),_vm._v(\" \"),_c('Button',{attrs:{\"slot\":\"extra\",\"size\":\"small\"},on:{\"click\":_vm.onTabsAdd},slot:\"extra\"},[_vm._v(\"增加\")])],2)],1)])],1),_vm._v(\" \"),_c('ModalConfig',{attrs:{\"visible\":_vm.visibleConfig,\"config\":_vm.visibleConfig == false ? undefined : _vm.config},on:{\"on-close\":_vm.onCloseConfig}}),_vm._v(\" \"),_c('ModalDatabaseOption',{attrs:{\"visible\":_vm.visibleOption,\"config\":_vm.visibleOption == false ? undefined : _vm.config},on:{\"on-close\":_vm.onCloseDatabaseOption}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-16c1af9d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/adb/adb.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16c1af9d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./adb.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./adb.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./adb.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16c1af9d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./adb.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/adb/adb.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport ADB from './adb.vue';\nimport iView from \"iview\";\nimport \"iview/dist/styles/iview.css\";\nimport locale from 'iview/src/locale/lang/zh-TW';\n\nVue.use(iView, { locale });\n\nVue.config.productionTip = false;\nVue.prototype.broadcast = new Vue(); // 廣播用元件\nVue.prototype.$isElectron = navigator.userAgent.indexOf(\"Electron\") > -1;\n\nnew Vue({\n  el: '#app',\n  components: { ADB },\n  template: '<ADB />',\n  mounted() {\n    window.onresize = () => {\n      return (() => {\n        this.broadcast.$emit(\"on-resize\");\n      })();\n    };\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/adb/adb.js"],"sourceRoot":""}