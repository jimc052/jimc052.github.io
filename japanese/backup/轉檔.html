<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>五十音</title>
  <style>
    html, body {
      height: 100%;
      margin: 0px;
      padding: 0px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      display: flex;
      flex-direction: column;
      font-size: 16px;
      padding: 20px 5px;
      font-family: "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro",Osaka, "メイリオ", Meiryo, "ＭＳ Ｐゴシック", "MS PGothic", sans-serif;
    }
    td.cell {
      font-size: 20px;
      width: 20%;
      font-family: "ヒラギノ角ゴ Pro W3", "Hiragino Kaku Gothic Pro",Osaka, "メイリオ", Meiryo, "ＭＳ Ｐゴシック", "MS PGothic", sans-serif;
      border: 1px solid red;
      text-align: center;
      cursor: pointer;
    }

   
  </style>
</head>

<body>
  <!-- <textarea style="width: 100%; height: 100%"></textarea> -->
  <table style="border-collapse:collapse;"></table>
</body>
<script>
  // open -a Google\ Chrome "轉檔.html"
  window.onload = () => {
    render();
  }

  function render() {
    let table = document.querySelector("table");
    let arr1 = source().split("\n")
    let arr2 = [], arr3 = [];
    let target = datas();

    target.forEach((el1, index1) => {
      let row = table.insertRow(index1);
      el1.forEach((el2, index2) => {
        let cell = row.insertCell(index2);
          cell.className = "cell";
        if(el2 != null) {
          // arr2.push({"平": el2["平"]})
          // el2["平"]
          let index = arr1.findIndex(el => el.indexOf(el2["平"]) == 0)
          if(index > -1) {
            // arr2.push({"片": arr1[index].substring(1)})
            el2["片"] = arr1[index].substring(1)
          }
          cell.innerText = JSON.stringify(el2);
        }
      });

      if(el1[0].mp3 == "ga" || el1[0].mp3 == "kya") {
        console.log(JSON.stringify(arr3));
        arr3 = [];
      }
      arr3.push(el1)
    })
    console.log(JSON.stringify(arr3));
    // console.log(JSON.stringify(target));
  }

  function datas() {
    return [
      [{
        "平": "あ",
        "mp3": "a"
      }, {
        "平": "い",
        "mp3": "i"
      }, {
        "平": "う",
        "mp3": "u"
      }, {
        "平": "え",
        "mp3": "e"
      }, {
        "平": "お",
        "mp3": "o"
      }],
      [{
        "平": "か",
        "mp3": "ka"
      }, {
        "平": "き",
        "mp3": "ki"
      }, {
        "平": "く",
        "mp3": "ku"
      }, {
        "平": "け",
        "mp3": "ke"
      }, {
        "平": "こ",
        "mp3": "ko"
      }],
      [{
        "平": "さ",
        "mp3": "sa"
      }, {
        "平": "し",
        "mp3": "si"
      }, {
        "平": "す",
        "mp3": "su"
      }, {
        "平": "せ",
        "mp3": "se"
      }, {
        "平": "そ",
        "mp3": "so"
      }],
      [{
        "平": "た",
        "mp3": "ta"
      }, {
        "平": "ち",
        "mp3": "ci"
      }, {
        "平": "つ",
        "mp3": "cu"
      }, {
        "平": "て",
        "mp3": "te"
      }, {
        "平": "と",
        "mp3": "to"
      }],
      [{
        "平": "な",
        "mp3": "na"
      }, {
        "平": "に",
        "mp3": "ni"
      }, {
        "平": "ぬ",
        "mp3": "nu"
      }, {
        "平": "ね",
        "mp3": "ne"
      }, {
        "平": "の",
        "mp3": "no"
      }],
      [{
        "平": "は",
        "mp3": "ha"
      }, {
        "平": "ひ",
        "mp3": "hi"
      }, {
        "平": "ふ",
        "mp3": "hu"
      }, {
        "平": "へ",
        "mp3": "he"
      }, {
        "平": "ほ",
        "mp3": "ho"
      }],
      [{
        "平": "ま",
        "mp3": "ma"
      }, {
        "平": "み",
        "mp3": "mi"
      }, {
        "平": "む",
        "mp3": "mu"
      }, {
        "平": "め",
        "mp3": "me"
      }, {
        "平": "も",
        "mp3": "mo"
      }],
      [{
        "平": "や",
        "mp3": "ya"
      }, null, {
        "平": "ゆ",
        "mp3": "yu"
      }, null, {
        "平": "よ",
        "mp3": "yo"
      }],
      [{
        "平": "ら",
        "mp3": "ra"
      }, {
        "平": "り",
        "mp3": "ri"
      }, {
        "平": "る",
        "mp3": "ru"
      }, {
        "平": "れ",
        "mp3": "re"
      }, {
        "平": "ろ",
        "mp3": "ro"
      }],
      [{
        "平": "わ",
        "mp3": "wa"
      }, null, null, null, {
        "平": "を",
        "mp3": "o"
      }],
      [{
        "平": "ん",
        "mp3": "n"
      }, null, null, null, null],
      [{
        "平": "が",
        "mp3": "ga"
      }, {
        "平": "ぎ",
        "mp3": "gi"
      }, {
        "平": "ぐ",
        "mp3": "gu"
      }, {
        "平": "げ",
        "mp3": "ge"
      }, {
        "平": "ご",
        "mp3": "go"
      }],
      [{
        "平": "ざ",
        "mp3": "za"
      }, {
        "平": "じ",
        "mp3": "zi"
      }, {
        "平": "ず",
        "mp3": "zu"
      }, {
        "平": "ぜ",
        "mp3": "ze"
      }, {
        "平": "ぞ",
        "mp3": "zo"
      }],
      [{
        "平": "だ",
        "mp3": "da"
      }, {
        "平": "ぢ",
        "mp3": "di"
      }, {
        "平": "づ",
        "mp3": "du"
      }, {
        "平": "で",
        "mp3": "de"
      }, {
        "平": "ど",
        "mp3": "do"
      }],
      [{
        "平": "ば",
        "mp3": "ba"
      }, {
        "平": "び",
        "mp3": "bi"
      }, {
        "平": "ぶ",
        "mp3": "bu"
      }, {
        "平": "べ",
        "mp3": "be"
      }, {
        "平": "ぼ",
        "mp3": "bo"
      }],
      [{
        "平": "ぱ",
        "mp3": "pa"
      }, {
        "平": "ぴ",
        "mp3": "pi"
      }, {
        "平": "ぷ",
        "mp3": "pu"
      }, {
        "平": "ぺ",
        "mp3": "pe"
      }, {
        "平": "ぽ",
        "mp3": "po"
      }],
      [{
        "平": "きゃ",
        "mp3": "kya"
      }, null, {
        "平": "きゅ",
        "mp3": "kyu"
      }, null, {
        "平": "きょ",
        "mp3": "kyo"
      }],
      [{
        "平": "しゃ",
        "mp3": "sya"
      }, null, {
        "平": "しゅ",
        "mp3": "syu"
      }, null, {
        "平": "しょ",
        "mp3": "syo"
      }],
      [{
        "平": "ちゃ",
        "mp3": "cya"
      }, null, {
        "平": "ちゅ",
        "mp3": "cyu"
      }, null, {
        "平": "ちょ",
        "mp3": "cyo"
      }],
      [{
        "平": "にゃ",
        "mp3": "nya"
      }, null, {
        "平": "にゅ",
        "mp3": "nyu"
      }, null, {
        "平": "にょ",
        "mp3": "nyo"
      }],
      [{
        "平": "ひゃ",
        "mp3": "hya"
      }, null, {
        "平": "ひゅ",
        "mp3": "hyu"
      }, null, {
        "平": "ひょ",
        "mp3": "hyo"
      }],
      [{
        "平": "みゃ",
        "mp3": "mya"
      }, null, {
        "平": "みゅ",
        "mp3": "myu"
      }, null, {
        "平": "みょ",
        "mp3": "myo"
      }],
      [{
        "平": "りゃ",
        "mp3": "rya"
      }, null, {
        "平": "りゅ",
        "mp3": "ryu"
      }, null, {
        "平": "りょ",
        "mp3": "ryo"
      }],
      [{
        "平": "ぎゃ",
        "mp3": "gya"
      }, null, {
        "平": "ぎゅ",
        "mp3": "gyu"
      }, null, {
        "平": "ぎょ",
        "mp3": "gyo"
      }],
      [{
        "平": "じゃ",
        "mp3": "zya"
      }, null, {
        "平": "じゅ",
        "mp3": "zyu"
      }, null, {
        "平": "じょ",
        "mp3": "zyo"
      }],
      [{
        "平": "びゃ",
        "mp3": "bya"
      }, null, {
        "平": "びゅ",
        "mp3": "byu"
      }, null, {
        "平": "びょ",
        "mp3": "byo"
      }],
      [{
        "平": "ぴゃ",
        "mp3": "pya"
      }, null, {
        "平": "ぴゅ",
        "mp3": "pyu"
      }, null, {
        "平": "ぴょ",
        "mp3": "pyo"
      }]
    ]
  }

  function source() {
    return `あア
いイ
うウ
えエ
おオ
かカ
きキ
くク
けケ
こコ
さサ
しシ
すス
せセ
そソ
たタ
ちチ
つツ
てテ
とト
なナ
にニ
ぬヌ
ねネ
のノ
はハ
ひヒ
ふフ
へヘ
ほホ
まマ
みミ
むム
めメ
もモ
やヤ


ゆユ


よヨ
らラ
りリ
るル
れレ
ろロ
わワ






をヲ
んン
    `
  }
</script>

</html>